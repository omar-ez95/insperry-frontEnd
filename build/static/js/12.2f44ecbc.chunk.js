(this.webpackJsonpinspery=this.webpackJsonpinspery||[]).push([[12],{68:function(e,t,a){"use strict";var n=a(4),c=a(0),r=a.n(c),o=a(14),s=a.n(o);t.a=function(e){var t=Object(c.useState)({}),a=Object(n.a)(t,2),o=a[0],u=a[1];return Object(c.useEffect)((function(){s.a.get("http://18.192.205.152/api/profile/".concat(e.username),{crossDomain:!0},{withCredentials:!0}).then((function(e){u(e.data)}))}),[e.username]),r.a.createElement("div",{className:"comment-image-holder"},r.a.createElement("p",{className:"black-color"},o.first_name),r.a.createElement("img",{src:"http://18.192.205.152/"+o.picture,alt:""}))}},78:function(e,t,a){"use strict";a.r(t);var n=a(4),c=a(0),r=a.n(c),o=a(1),s=a(14),u=a.n(s),m=a(15),l=a(68);t.default=function(e){var t=e.id,a=e.restaurant,s=Object(c.useContext)(m.a),i=s.user,p=s.isAuthenticated,d=Object(c.useState)([]),f=Object(n.a)(d,2),b=f[0],v=f[1],E=Object(c.useState)(parseInt(i.id)),h=Object(n.a)(E,1)[0],g=Object(c.useState)(""),j=Object(n.a)(g,2),N=j[0],O=j[1],y=Object(c.useState)(new Date),k=Object(n.a)(y,1)[0],x=Object(o.f)();Object(c.useEffect)((function(){!1===p&&x("/login");u.a.get("http://18.192.205.152/api/product_comments/".concat(t)).then((function(e){v(e.data)})).catch((function(e){return console.log(e)}))}),[t,p,x]);var S=function(e){var n=new FormData;n.append("body",e.body),n.append("user",h),n.append("product",parseInt(t,10)),n.append("restaurant",parseInt(a,10)),u.a.defaults.xsrfCookieName="csrftoken",u.a.defaults.xsrfHeaderName="X-CSRFToken",u.a.post("http://18.192.205.152/api/product_comments/".concat(t,"/"),n).then((function(e){v(e.data)})).catch((function(e){return console.log(e)}))},w=b.map((function(e){return r.a.createElement("div",{className:"comment-box",key:e.id},r.a.createElement(l.a,{username:e.user}),r.a.createElement("div",{className:"text-box"},e.body,r.a.createElement("p",{className:"black-color"},"- ",function(e){var t=new Date(e).toLocaleDateString();return t}(e.date))),r.a.createElement("ul",null))}));return r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"scroll"},b.length>0?w:null),r.a.createElement("div",{className:"card card-body  setMarginBottom"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),S({date:k,owner:h,restaurant:a,body:N,id:t}),O("")}},r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{className:"form-control",type:"text",name:"body",onChange:function(e){return O(e.target.value)},value:N})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Comment")))))}}}]);
//# sourceMappingURL=12.2f44ecbc.chunk.js.map