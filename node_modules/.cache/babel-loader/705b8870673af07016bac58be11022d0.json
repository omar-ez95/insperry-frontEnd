{"ast":null,"code":"import _slicedToArray from\"/home/omar/Documents/inspery-FrontEnd/inspery/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useState}from\"react\";import axios from\"axios\";import{Context}from\"../../contexts/UserContext\";import ProductComponent from\"../menu/ProductComponent\";import Toggler from\"../../customHooks/Toggler\";function FavoriteRestaurant(_ref){var favoriteRestaurant=_ref.favoriteRestaurant;var _Toggler=Toggler(),_Toggler2=_slicedToArray(_Toggler,2),show=_Toggler2[0],toggle=_Toggler2[1];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),favoriteProducts=_useState2[0],setFavoriteProducts=_useState2[1];var _useContext=useContext(Context),token=_useContext.token;useEffect(function(){axios.defaults.headers.common[\"Authorization\"]=\"Token \"+token;axios.get(\"http://18.192.205.152/api/favorite_products/\".concat(favoriteRestaurant.id)).then(function(res){console.log(res.data);setFavoriteProducts(res.data);}).catch(function(err){return console.log(err);});return function(){setFavoriteProducts([]);};});return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{onClick:toggle},/*#__PURE__*/React.createElement(\"div\",{style:{backgroundImage:\"url(\".concat(favoriteRestaurant.profile_pic,\")\")},className:\"mychoise-element\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"black-color\"},favoriteRestaurant.name))),show?/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},favoriteProducts.map(function(favoriteProduct){return/*#__PURE__*/React.createElement(\"div\",{className:\"product-menu-card\"},/*#__PURE__*/React.createElement(ProductComponent,{key:favoriteProduct.id,product:favoriteProduct}));})):null);}export default FavoriteRestaurant;","map":{"version":3,"sources":["/home/omar/Documents/inspery-FrontEnd/inspery/src/components/myChoice/FavoriteRestaurant.js"],"names":["React","useContext","useEffect","useState","axios","Context","ProductComponent","Toggler","FavoriteRestaurant","favoriteRestaurant","show","toggle","favoriteProducts","setFavoriteProducts","token","defaults","headers","common","get","id","then","res","console","log","data","catch","err","backgroundImage","profile_pic","name","map","favoriteProduct"],"mappings":"oKAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,CAA4BC,SAA5B,CAAuCC,QAAvC,KAAuD,OAAvD,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEC,OAAQC,OAAR,KAAsB,4BAAtB,CACD,MAAOC,CAAAA,gBAAP,KAA6B,0BAA7B,CACA,MAAOC,CAAAA,OAAP,KAAoB,2BAApB,CAEA,QAASC,CAAAA,kBAAT,MAAoD,IAAtBC,CAAAA,kBAAsB,MAAtBA,kBAAsB,CAClD,aAAuBF,OAAO,EAA9B,sCAAOG,IAAP,cAAaC,MAAb,cACA,cAA4CR,QAAQ,CAAC,EAAD,CAApD,wCAAMS,gBAAN,eAAuBC,mBAAvB,eACA,gBAAgBZ,UAAU,CAACI,OAAD,CAA1B,CAAOS,KAAP,aAAOA,KAAP,CAGAZ,SAAS,CAAC,UAAM,CACdE,KAAK,CAACW,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,EAAiD,SAAWH,KAA5D,CACAV,KAAK,CACFc,GADH,uDACsDT,kBAAkB,CAACU,EADzE,GAEGC,IAFH,CAEQ,SAACC,GAAD,CAAS,CACbC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,EACAX,mBAAmB,CAACQ,GAAG,CAACG,IAAL,CAAnB,CACD,CALH,EAMGC,KANH,CAMS,SAACC,GAAD,QAASJ,CAAAA,OAAO,CAACC,GAAR,CAAYG,GAAZ,CAAT,EANT,EAOA,MAAO,WAAM,CACTb,mBAAmB,CAAC,EAAD,CAAnB,CACH,CAFD,CAGD,CAZQ,CAAT,CAcA,mBACE,4CACE,2BAAK,OAAO,CAAEF,MAAd,eACE,2BACE,KAAK,CAAE,CAAEgB,eAAe,eAASlB,kBAAkB,CAACmB,WAA5B,KAAjB,CADT,CAEE,SAAS,CAAC,kBAFZ,eAKE,0BAAI,SAAS,CAAC,aAAd,EAA6BnB,kBAAkB,CAACoB,IAAhD,CALF,CADF,CADF,CAUGnB,IAAI,cACH,2BAAK,SAAS,CAAC,WAAf,EACGE,gBAAgB,CAACkB,GAAjB,CAAqB,SAACC,eAAD,qBACpB,2BAAK,SAAS,CAAC,mBAAf,eACE,oBAAC,gBAAD,EACE,GAAG,CAAEA,eAAe,CAACZ,EADvB,CAEE,OAAO,CAAEY,eAFX,EADF,CADoB,EAArB,CADH,CADG,CAWD,IArBN,CADF,CAyBD,CAED,cAAevB,CAAAA,kBAAf","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\n import {Context} from \"../../contexts/UserContext\"\nimport ProductComponent from \"../menu/ProductComponent\";\nimport Toggler from \"../../customHooks/Toggler\";\n\nfunction FavoriteRestaurant({ favoriteRestaurant }) {\n  const [show, toggle] = Toggler();\n  const[favoriteProducts,setFavoriteProducts]=useState([])\n  const {token} = useContext(Context)\n\n\n  useEffect(() => {\n    axios.defaults.headers.common[\"Authorization\"] = \"Token \" + token;\n    axios\n      .get(`http://18.192.205.152/api/favorite_products/${favoriteRestaurant.id}`)\n      .then((res) => {\n        console.log(res.data)\n        setFavoriteProducts(res.data)\n      })\n      .catch((err) => console.log(err));\n    return () => {\n        setFavoriteProducts([])\n    };\n  }, );\n\n  return (\n    <div>\n      <div onClick={toggle}>\n        <div\n          style={{ backgroundImage: `url(${favoriteRestaurant.profile_pic})` }}\n          className=\"mychoise-element\"\n        >\n          {/* <img src={this.props.favoriteRestaurant.profile_pic} /> */}\n          <h1 className=\"black-color\">{favoriteRestaurant.name}</h1>\n        </div>\n      </div>\n      {show ? (\n        <div className=\"container\">\n          {favoriteProducts.map((favoriteProduct) => (\n            <div className=\"product-menu-card\">\n              <ProductComponent\n                key={favoriteProduct.id}\n                product={favoriteProduct}\n              />\n            </div>\n          ))}\n        </div>\n      ) : null}\n    </div>\n  );\n}\n\nexport default FavoriteRestaurant;\n"]},"metadata":{},"sourceType":"module"}