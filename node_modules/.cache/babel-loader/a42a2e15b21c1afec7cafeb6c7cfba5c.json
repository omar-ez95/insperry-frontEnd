{"ast":null,"code":"var _jsxFileName = \"/home/omar/Documents/inspery-FrontEnd/inspery/src/contexts/UserContext.js\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nconst Context = React.createContext();\n\nfunction UserContext(_ref) {\n  let {\n    children\n  } = _ref;\n  const [token, setToken] = useState('');\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [user, setUser] = useState({\n    email: '',\n    id: 0,\n    username: ''\n  });\n  useEffect(() => {\n    delete axios.defaults.headers.common[\"Authorization\"];\n    localStorage.clear();\n    let userData = null;\n\n    if (localStorage.userData) {\n      userData = JSON.parse(localStorage.userData);\n    }\n\n    if (userData) {\n      setIsAuthenticated(true);\n      setToken(userData.token);\n      setUser(userData.user);\n    }\n  }, []);\n  return /*#__PURE__*/React.createElement(Context.Provider, {\n    value: {\n      token,\n      setToken,\n      isAuthenticated,\n      setIsAuthenticated,\n      user,\n      setUser\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }\n  }, children);\n}\n\nexport { UserContext, Context };","map":{"version":3,"sources":["/home/omar/Documents/inspery-FrontEnd/inspery/src/contexts/UserContext.js"],"names":["React","useState","useEffect","axios","Context","createContext","UserContext","children","token","setToken","isAuthenticated","setIsAuthenticated","user","setUser","email","id","username","defaults","headers","common","localStorage","clear","userData","JSON","parse"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,MAAMC,OAAO,GAAGJ,KAAK,CAACK,aAAN,EAAhB;;AAEA,SAASC,WAAT,OAAiC;AAAA,MAAZ;AAACC,IAAAA;AAAD,GAAY;AAC7B,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBR,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACS,eAAD,EAAkBC,kBAAlB,IAAwCV,QAAQ,CAAC,KAAD,CAAtD;AACA,QAAM,CAACW,IAAD,EAAOC,OAAP,IAAkBZ,QAAQ,CAAC;AACDa,IAAAA,KAAK,EAAC,EADL;AAEDC,IAAAA,EAAE,EAAC,CAFF;AAGDC,IAAAA,QAAQ,EAAC;AAHR,GAAD,CAAhC;AAKAd,EAAAA,SAAS,CAAC,MAAI;AACV,WAAOC,KAAK,CAACc,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,CAAP;AACAC,IAAAA,YAAY,CAACC,KAAb;AAEA,QAAKC,QAAQ,GAAG,IAAhB;;AACA,QAAGF,YAAY,CAACE,QAAhB,EAA0B;AACtBA,MAAAA,QAAQ,GAAEC,IAAI,CAACC,KAAL,CAAWJ,YAAY,CAACE,QAAxB,CAAV;AACH;;AACD,QAAGA,QAAH,EAAY;AACPX,MAAAA,kBAAkB,CAAC,IAAD,CAAlB;AACAF,MAAAA,QAAQ,CAACa,QAAQ,CAACd,KAAV,CAAR;AACAK,MAAAA,OAAO,CAACS,QAAQ,CAACV,IAAV,CAAP;AACJ;AACJ,GAbQ,EAaP,EAbO,CAAT;AAcA,sBACI,oBAAC,OAAD,CAAS,QAAT;AAAkB,IAAA,KAAK,EAAE;AACrBJ,MAAAA,KADqB;AAErBC,MAAAA,QAFqB;AAGrBC,MAAAA,eAHqB;AAIrBC,MAAAA,kBAJqB;AAKrBC,MAAAA,IALqB;AAMrBC,MAAAA;AANqB,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQKN,QARL,CADJ;AAYH;;AAED,SAAQD,WAAR,EAAqBF,OAArB","sourcesContent":["import React, {useState, useEffect} from \"react\"\nimport axios from \"axios\";\nconst Context = React.createContext()\n\nfunction UserContext({children}) {\n    const [token, setToken] = useState('')\n    const [isAuthenticated, setIsAuthenticated] = useState(false)\n    const [user, setUser] = useState({\n                                    email:'',\n                                    id:0,\n                                    username:'', \n                                })\n    useEffect(()=>{\n        delete axios.defaults.headers.common[\"Authorization\"];\n        localStorage.clear()\n\n        let  userData = null\n        if(localStorage.userData ){\n            userData= JSON.parse(localStorage.userData)\n        }\n        if(userData){\n             setIsAuthenticated(true)\n             setToken(userData.token)\n             setUser(userData.user)\n        }\n    },[])\n    return (\n        <Context.Provider value={{\n            token, \n            setToken, \n            isAuthenticated, \n            setIsAuthenticated, \n            user, \n            setUser\n        }}>\n            {children}\n        </Context.Provider>\n    )\n}\n\nexport {UserContext, Context}"]},"metadata":{},"sourceType":"module"}