{"ast":null,"code":"var _jsxFileName = \"/home/omar/Documents/inspery-FrontEnd/inspery/src/components/restaurants/RestaurantComments.js\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport ProfilePhoto from \"../profile/ProfilePhoto\";\nimport { Context } from \"../../contexts/UserContext\";\nimport RestaurantCommentsForm from \"./RestaurantCommentsForm\";\n\nfunction RestaurantComments(props) {\n  const [comments, setComments] = useState([]);\n  const {\n    isAuthenticated\n  } = useContext(Context);\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (isAuthenticated === false) {\n      navigate(\"/login\");\n    }\n\n    axios.get(`http://18.192.205.152/api/comments/${props.restaurantId}`, {\n      crossDomain: true\n    }, {\n      withCredentials: true\n    }).then(response => {\n      setComments(response.data);\n    });\n  });\n  const commentsList = comments.map(comment => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"comment-box\",\n    key: comment.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ProfilePhoto, {\n    username: comment.user,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }, comment.body, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, \"- \", formatTime(comment.date))), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  })));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card comments-modal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, commentsList)), /*#__PURE__*/React.createElement(RestaurantCommentsForm, {\n    restaurant: props.restaurantId,\n    setComments: setComments,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }));\n}\n\nfunction formatTime(time) {\n  let prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n  const t = new Date(time).toLocaleDateString();\n  return t;\n}\n\nexport default RestaurantComments;","map":{"version":3,"sources":["/home/omar/Documents/inspery-FrontEnd/inspery/src/components/restaurants/RestaurantComments.js"],"names":["React","useState","useEffect","useContext","axios","useNavigate","ProfilePhoto","Context","RestaurantCommentsForm","RestaurantComments","props","comments","setComments","isAuthenticated","navigate","get","restaurantId","crossDomain","withCredentials","then","response","data","commentsList","map","comment","id","user","body","formatTime","date","time","prefix","t","Date","toLocaleDateString"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,UAArC,QAAuD,OAAvD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,kBAA5B;AAGA,OAAOC,YAAP,MAAyB,yBAAzB;AACA,SAASC,OAAT,QAAwB,4BAAxB;AACA,OAAOC,sBAAP,MAAmC,0BAAnC;;AAEA,SAASC,kBAAT,CAA4BC,KAA5B,EAAmC;AACjC,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BX,QAAQ,CAAC,EAAD,CAAxC;AAEA,QAAM;AAAEY,IAAAA;AAAF,MAAsBV,UAAU,CAACI,OAAD,CAAtC;AAEA,QAAMO,QAAQ,GAAGT,WAAW,EAA5B;AAEAH,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIW,eAAe,KAAK,KAAxB,EAA+B;AAC7BC,MAAAA,QAAQ,CAAC,QAAD,CAAR;AACD;;AACDV,IAAAA,KAAK,CACFW,GADH,CAEK,sCAAqCL,KAAK,CAACM,YAAa,EAF7D,EAGI;AAAEC,MAAAA,WAAW,EAAE;AAAf,KAHJ,EAII;AAAEC,MAAAA,eAAe,EAAE;AAAnB,KAJJ,EAMGC,IANH,CAMSC,QAAD,IAAc;AAClBR,MAAAA,WAAW,CAACQ,QAAQ,CAACC,IAAV,CAAX;AACD,KARH;AASD,GAbQ,CAAT;AAeA,QAAMC,YAAY,GAAGX,QAAQ,CAACY,GAAT,CAAcC,OAAD,iBAChC;AAAK,IAAA,SAAS,EAAC,aAAf;AAA6B,IAAA,GAAG,EAAEA,OAAO,CAACC,EAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,YAAD;AAAc,IAAA,QAAQ,EAAED,OAAO,CAACE,IAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGF,OAAO,CAACG,IADX,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAMC,UAAU,CAACJ,OAAO,CAACK,IAAT,CAAhB,CAFF,CAFF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,CADmB,CAArB;AAUA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAmBP,YAAnB,CADF,CADF,eAIE,oBAAC,sBAAD;AACE,IAAA,UAAU,EAAEZ,KAAK,CAACM,YADpB;AAEE,IAAA,WAAW,EAAEJ,WAFf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CADF;AAWD;;AAED,SAASgB,UAAT,CAAoBE,IAApB,EAAuC;AAAA,MAAbC,MAAa,uEAAJ,EAAI;AACrC,QAAMC,CAAC,GAAG,IAAIC,IAAJ,CAASH,IAAT,EAAeI,kBAAf,EAAV;AACA,SAAOF,CAAP;AACD;;AAED,eAAevB,kBAAf","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\n\n\nimport ProfilePhoto from \"../profile/ProfilePhoto\";\nimport { Context } from \"../../contexts/UserContext\";\nimport RestaurantCommentsForm from \"./RestaurantCommentsForm\";\n\nfunction RestaurantComments(props) {\n  const [comments, setComments] = useState([]);\n\n  const { isAuthenticated } = useContext(Context);\n\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (isAuthenticated === false) {\n      navigate(\"/login\");\n    }\n    axios\n      .get(\n        `http://18.192.205.152/api/comments/${props.restaurantId}`,\n        { crossDomain: true },\n        { withCredentials: true }\n      )\n      .then((response) => {\n        setComments(response.data);\n      });\n  }, );\n\n  const commentsList = comments.map((comment) => (\n    <div className=\"comment-box\" key={comment.id}>\n      <ProfilePhoto username={comment.user} />\n      <div className=\"text-box\">\n        {comment.body}\n        <p>- {formatTime(comment.date)}</p>\n      </div>\n      <ul></ul>\n    </div>\n  ));\n  return (\n    <div>\n      <div className=\"card comments-modal\">\n        <div className=\"\">{commentsList}</div>\n      </div>\n      <RestaurantCommentsForm\n        restaurant={props.restaurantId}\n        setComments={setComments}\n      />\n    </div>\n  );\n}\n\nfunction formatTime(time, prefix = \"\") {\n  const t = new Date(time).toLocaleDateString();\n  return t;\n}\n\nexport default RestaurantComments;\n"]},"metadata":{},"sourceType":"module"}