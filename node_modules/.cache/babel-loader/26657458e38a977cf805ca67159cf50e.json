{"ast":null,"code":"var _jsxFileName = \"/home/omar/Documents/inspery-FrontEnd/inspery/src/components/menu/FavoriteProduct.js\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport saveProductActive from \"../../static/img/saveProductActive.png\";\nimport saveProduct from \"../../static/img/saveProduct.png\";\nimport { Context } from \"../../contexts/UserContext\";\n\nfunction FavoriteProduct(props) {\n  const {\n    isAuthenticated,\n    token\n  } = useContext(Context);\n  const [favoriteProduct, setFavoriteProduct] = useState({\n    check: null\n  });\n\n  const getFavoriteProduct = f => {\n    axios.defaults.headers.common[\"Authorization\"] = \"Token \" + token;\n    const data = f;\n    axios.get(`http://18.192.205.152/api/favorite_product/${f.id}/${f.option}`, data).then(res => {\n      setFavoriteProduct(res.data);\n    }).catch(err => console.log(err));\n  };\n\n  const checkFavoriteProduct = () => {\n    const f = {\n      option: 1,\n      id: props.id\n    };\n    getFavoriteProduct(f);\n  };\n\n  useEffect(() => {\n    const f = {\n      option: 0,\n      id: props.id\n    };\n\n    if (isAuthenticated) {\n      getFavoriteProduct(f);\n    }\n  }); // componentDidMount() {\n  //     const h = store.getState();\n  //     const t = h.auth.isAuthenticated;\n  //     console.log('hhhhhhh',t)\n  //     const f = {\n  //         option : 0,\n  //         id : this.props.id\n  //     }\n  //     if(t==true){\n  //     this.getFavoriteProduct(f);\n  //     }\n  // }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, isAuthenticated ? favoriteProduct.check === \"true\" ? /*#__PURE__*/React.createElement(\"img\", {\n    className: \"buttons-color\",\n    type: \"button\",\n    onClick: checkFavoriteProduct,\n    src: saveProductActive,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }) : /*#__PURE__*/React.createElement(\"img\", {\n    className: \"buttons-color\",\n    type: \"button\",\n    onClick: checkFavoriteProduct,\n    src: saveProduct,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }) : /*#__PURE__*/React.createElement(Link, {\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"buttons-color\",\n    src: saveProduct,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  })));\n}\n\nexport default FavoriteProduct;","map":{"version":3,"sources":["/home/omar/Documents/inspery-FrontEnd/inspery/src/components/menu/FavoriteProduct.js"],"names":["React","useContext","useEffect","useState","axios","Link","saveProductActive","saveProduct","Context","FavoriteProduct","props","isAuthenticated","token","favoriteProduct","setFavoriteProduct","check","getFavoriteProduct","f","defaults","headers","common","data","get","id","option","then","res","catch","err","console","log","checkFavoriteProduct"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,QAAvC,QAAuD,OAAvD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB;AAEA,OAAOC,iBAAP,MAA8B,wCAA9B;AACA,OAAOC,WAAP,MAAwB,kCAAxB;AAGA,SAASC,OAAT,QAAwB,4BAAxB;;AAEA,SAASC,eAAT,CAAyBC,KAAzB,EAAgC;AAC9B,QAAM;AAAEC,IAAAA,eAAF;AAAmBC,IAAAA;AAAnB,MAA6BX,UAAU,CAACO,OAAD,CAA7C;AAEA,QAAM,CAACK,eAAD,EAAkBC,kBAAlB,IAAwCX,QAAQ,CAAC;AACrDY,IAAAA,KAAK,EAAE;AAD8C,GAAD,CAAtD;;AAGA,QAAMC,kBAAkB,GAAIC,CAAD,IAAO;AAEhCb,IAAAA,KAAK,CAACc,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiD,WAAWR,KAA5D;AACA,UAAMS,IAAI,GAAGJ,CAAb;AACAb,IAAAA,KAAK,CACFkB,GADH,CACQ,8CAA6CL,CAAC,CAACM,EAAG,IAAGN,CAAC,CAACO,MAAO,EADtE,EACyEH,IADzE,EAEGI,IAFH,CAESC,GAAD,IAAS;AACbZ,MAAAA,kBAAkB,CAACY,GAAG,CAACL,IAAL,CAAlB;AACD,KAJH,EAKGM,KALH,CAKUC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CALlB;AAMD,GAVD;;AAYA,QAAMG,oBAAoB,GAAG,MAAM;AACjC,UAAMd,CAAC,GAAG;AACRO,MAAAA,MAAM,EAAE,CADA;AAERD,MAAAA,EAAE,EAAEb,KAAK,CAACa;AAFF,KAAV;AAIAP,IAAAA,kBAAkB,CAACC,CAAD,CAAlB;AACD,GAND;;AAQAf,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMe,CAAC,GAAG;AACRO,MAAAA,MAAM,EAAE,CADA;AAERD,MAAAA,EAAE,EAAEb,KAAK,CAACa;AAFF,KAAV;;AAIA,QAAIZ,eAAJ,EAAqB;AACnBK,MAAAA,kBAAkB,CAACC,CAAD,CAAlB;AACD;AACF,GARQ,CAAT,CA1B8B,CAmC9B;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;AAEA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGN,eAAe,GACdE,eAAe,CAACE,KAAhB,KAA0B,MAA1B,gBACE;AAAK,IAAA,SAAS,EAAC,eAAf;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,OAAO,EAAEgB,oBAFX;AAGE,IAAA,GAAG,EAAEzB,iBAHP;AAIE,IAAA,GAAG,EAAC,EAJN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,gBAQE;AAAK,IAAA,SAAS,EAAC,eAAf;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,OAAO,EAAEyB,oBAFX;AAGE,IAAA,GAAG,EAAExB,WAHP;AAIE,IAAA,GAAG,EAAC,EAJN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATY,gBAiBd,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,QAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,eAAf;AAA+B,IAAA,GAAG,EAAEA,WAApC;AAAiD,IAAA,GAAG,EAAC,EAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAlBJ,CADF;AA2BD;;AAED,eAAeE,eAAf","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\n\nimport saveProductActive from \"../../static/img/saveProductActive.png\";\nimport saveProduct from \"../../static/img/saveProduct.png\";\n\n\nimport { Context } from \"../../contexts/UserContext\";\n\nfunction FavoriteProduct(props) {\n  const { isAuthenticated, token } = useContext(Context);\n\n  const [favoriteProduct, setFavoriteProduct] = useState({\n    check: null,\n  });\n  const getFavoriteProduct = (f) => {\n\n    axios.defaults.headers.common[\"Authorization\"] = \"Token \" + token;\n    const data = f;\n    axios\n      .get(`http://18.192.205.152/api/favorite_product/${f.id}/${f.option}`, data)\n      .then((res) => {\n        setFavoriteProduct(res.data)\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const checkFavoriteProduct = () => {\n    const f = {\n      option: 1,\n      id: props.id,\n    };\n    getFavoriteProduct(f);\n  };\n\n  useEffect(() => {\n    const f = {\n      option: 0,\n      id: props.id,\n    };\n    if (isAuthenticated) {\n      getFavoriteProduct(f);\n    }\n  }, );\n  // componentDidMount() {\n  //     const h = store.getState();\n\n  //     const t = h.auth.isAuthenticated;\n  //     console.log('hhhhhhh',t)\n  //     const f = {\n  //         option : 0,\n  //         id : this.props.id\n  //     }\n  //     if(t==true){\n  //     this.getFavoriteProduct(f);\n\n  //     }\n  // }\n\n  return (\n    <div>\n      {isAuthenticated ? (\n        favoriteProduct.check === \"true\" ? (\n          <img className=\"buttons-color\"\n            type=\"button\"\n            onClick={checkFavoriteProduct}\n            src={saveProductActive}\n            alt=\"\"\n          />\n        ) : (\n          <img className=\"buttons-color\"\n            type=\"button\"\n            onClick={checkFavoriteProduct}\n            src={saveProduct}\n            alt=\"\"\n          />\n        )\n      ) : (\n        <Link to=\"/login\">\n          <img className=\"buttons-color\" src={saveProduct} alt=\"\" />\n        </Link>\n      )}\n      {/* {this.state.favoriteProduct.check == 'true' ? <img   type=\"button\" onClick={this.checkFavoriteProduct} src={saveProductActive} alt=\"\"/> : \n                <img  type=\"button\"   onClick={this.checkFavoriteProduct} src={saveProduct} alt=\"\"/> } */}\n    </div>\n  );\n}\n\nexport default FavoriteProduct;\n"]},"metadata":{},"sourceType":"module"}