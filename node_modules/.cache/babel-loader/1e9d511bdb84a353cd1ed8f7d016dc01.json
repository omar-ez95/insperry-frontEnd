{"ast":null,"code":"var _jsxFileName = \"/home/omar/Documents/inspery-FrontEnd/inspery/src/components/restaurants/Follow.js\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport follow_n from '../../static/img/follow_n.png';\nimport follow_active from '../../static/img/follow_active.png';\nimport { Context } from \"../../contexts/UserContext\";\n\nfunction Follow(props) {\n  const [follow, setFollow] = useState([]);\n  const [restaurantId, setRestaurantId] = useState(0);\n  const {\n    isAuthenticated,\n    token\n  } = useContext(Context);\n\n  const checkFollow = () => {\n    const f = {\n      option: 1,\n      id: restaurantId\n    };\n    getFollow(f);\n  };\n\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (isAuthenticated === false) {\n      navigate(\"/login\");\n    }\n\n    setRestaurantId(props.restaurant);\n    const f = {\n      option: 0,\n      id: restaurantId\n    };\n\n    if (restaurantId) {\n      getFollow(f);\n    }\n  }, [isAuthenticated]); // axios.get(`http://18.192.205.152:8000/app/api/follow/${f.id}/`,{option:f.option},{crossDomain: true,headers: {\n  //         'Content-Type': 'application/json',\n  //         'Authorization':`Token ${token}`,\n  //         'Access-Control-Allow-Origin': '*',\n  //         'Access-Control-Allow-Methods': 'GET, POST, OPTIONS, PUT, DELETE',\n  //         'Access-Control-Allow-Headers': 'X-Requested-With, Content-Type, X-Auth-Token, Origin, Authorization Access-Control-Allow-Origin'\n  //       } })\n\n  function getFollow(f) {\n    axios.defaults.headers.common['Authorization'] = 'Token ' + token;\n    axios({\n      method: 'get',\n      url: `http://18.192.205.152/app/api/follow/${f.id}/${f.option}`,\n      data: {\n        'option': f.option\n      },\n      crossDomain: true,\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Token ${token}`,\n        'Access-Control-Allow-Origin': '*',\n        'Access-Control-Allow-Methods': 'GET, POST, OPTIONS, PUT, DELETE',\n        'Access-Control-Allow-Headers': 'X-Requested-With, Content-Type, X-Auth-Token, Origin, Authorization Access-Control-Allow-Origin'\n      }\n    }).then(res => {\n      setFollow(res.data);\n    }).catch(err => console.log(err));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, follow.follow === 'true' ? /*#__PURE__*/React.createElement(\"img\", {\n    type: \"button\",\n    className: \"buttons-color\",\n    onClick: checkFollow,\n    src: follow_active,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 46\n    }\n  }) : /*#__PURE__*/React.createElement(\"img\", {\n    type: \"button\",\n    className: \"buttons-color\",\n    onClick: checkFollow,\n    src: follow_n,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 145\n    }\n  }));\n}\n\nexport default Follow;","map":{"version":3,"sources":["/home/omar/Documents/inspery-FrontEnd/inspery/src/components/restaurants/Follow.js"],"names":["React","useState","useEffect","useContext","useNavigate","axios","follow_n","follow_active","Context","Follow","props","follow","setFollow","restaurantId","setRestaurantId","isAuthenticated","token","checkFollow","f","option","id","getFollow","navigate","restaurant","defaults","headers","common","method","url","data","crossDomain","then","res","catch","err","console","log"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\"\nimport axios from \"axios\";\n\nimport follow_n from '../../static/img/follow_n.png';\nimport follow_active from '../../static/img/follow_active.png';\n\nimport {Context} from \"../../contexts/UserContext\"\n\nfunction Follow(props) {\n    const [follow, setFollow]=useState([])\n    const [restaurantId,setRestaurantId]=useState(0)\n    const {isAuthenticated, token} = useContext(Context)\n\n    const checkFollow = () => {\n        const f = {\n            option : 1,\n            id : restaurantId\n        }\n        getFollow(f);\n    };\n    const navigate = useNavigate();\n\n    useEffect(() => {\n      if (isAuthenticated === false) {\n        navigate(\"/login\");\n      }\n        setRestaurantId(props.restaurant)\n        const f = {\n            option : 0,\n            id : restaurantId\n        }\n        if(restaurantId){\n            getFollow(f)\n        }\n    },[isAuthenticated])\n\n    // axios.get(`http://18.192.205.152:8000/app/api/follow/${f.id}/`,{option:f.option},{crossDomain: true,headers: {\n    //         'Content-Type': 'application/json',\n    //         'Authorization':`Token ${token}`,\n    //         'Access-Control-Allow-Origin': '*',\n    //         'Access-Control-Allow-Methods': 'GET, POST, OPTIONS, PUT, DELETE',\n    //         'Access-Control-Allow-Headers': 'X-Requested-With, Content-Type, X-Auth-Token, Origin, Authorization Access-Control-Allow-Origin'\n    \n    //       } })\n\n    function getFollow(f){\n        axios.defaults.headers.common['Authorization'] = 'Token '+token;\n        axios({\n            method: 'get',\n            url: `http://18.192.205.152/app/api/follow/${f.id}/${f.option}`,\n            data: {\n                'option':f.option\n            },\n            crossDomain: true,\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization':`Token ${token}`,\n                'Access-Control-Allow-Origin': '*',\n                'Access-Control-Allow-Methods': 'GET, POST, OPTIONS, PUT, DELETE',\n                'Access-Control-Allow-Headers': 'X-Requested-With, Content-Type, X-Auth-Token, Origin, Authorization Access-Control-Allow-Origin'\n        \n              } \n\n          }).then(res => {\n            setFollow(res.data)\n        }).catch(err => console.log(err));\n    }\n\n        return (       \n            <div>\n                { follow.follow === 'true' ? <img  type=\"button\" className=\"buttons-color\" onClick={checkFollow} src={follow_active} alt=\"\"/> : <img  type=\"button\" className=\"buttons-color\" onClick={checkFollow} src={follow_n} alt=\"\"/> }\n            </div>\n        )\n\n}\n\n\nexport default Follow;"]},"metadata":{},"sourceType":"module"}